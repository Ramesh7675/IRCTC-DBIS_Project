-- Create Tables
CREATE TABLE admin_details (
  admin_id int NOT NULL PRIMARY KEY,
  username varchar(50) NOT NULL,
  password varchar(50) NOT NULL
);


INSERT INTO admin_details (admin_id, username, password) VALUES
(1, 'Manikanta', 'mani123'),
(2, 'Ramesh', 'ram123'),
(3, 'Rahul', 'rahul123');

CREATE TABLE cancel_ticket (
  pnr_number int NOT NULL PRIMARY KEY,
  ticket_fare integer DEFAULT 0
);
INSERT INTO cancel_ticket VALUES
(100001, 160),
(100002, 1228);

CREATE TABLE station_details (
  station_id INT NOT NULL ,
  station_name varchar(50) NOT NULL PRIMARY KEY
);

ALTER TABLE station_details
ADD CONSTRAINT unique_station_name UNIQUE (station_id);

INSERT INTO station_details (station_id, station_name) VALUES
(1, 'SSS Hubballi'),
(2, 'Hosapete'),
(3, 'Ballari'),
(4,'Guntakal'),
(5,'Mahbubnagar'),
(6, 'Kacheguda'),
(7, 'Vijayawada');

CREATE TABLE ticket_class (
  class_name varchar(10) not NULL PRIMARY KEY,
  price_index int not null
);

INSERT INTO ticket_class (class_name, price_index) VALUES
('1A',4),
('2A',3),
('3A',2),
('SL',1);


CREATE TABLE user_details (
  user_id serial PRIMARY KEY,
  fname varchar(50) NOT NULL,
  lname varchar(50) NOT NULL,
  emailid varchar(50) NOT NULL,
  password varchar(50) NOT NULL,
  mobile_number varchar(10) NOT NULL,
  gender char(1) NOT NULL,
  dob date NOT NULL,
  status varchar(20) NOT NULL,
  UNIQUE (mobile_number),
  UNIQUE (emailid)
);

INSERT INTO user_details (fname,lname,emailid,password,mobile_number,gender,dob,status) VALUES
('Suresh','Mundavar','SureshM@gmail.com','12345','9191919191','M','2002-12-12','verified'),
('Leo','Das','LeoDasCo@gmail.com','12345','9876543210','M','2000-10-10','verified');

CREATE TABLE train_details (
  train_number int PRIMARY KEY,
  train_name varchar(50) NOT NULL,
  start_point varchar(50) NOT NULL,
  start_time time NOT NULL,
  destination_point varchar(50) NOT NULL,
  end_time time NOT NULL,
  arrival_day varchar(10),
  distance integer NOT NULL,
  FOREIGN KEY (start_point) REFERENCES station_details (station_name),
  FOREIGN KEY (destination_point) REFERENCES station_details (station_name)
);


INSERT INTO train_details (train_number, train_name, start_point, start_time, destination_point, end_time, arrival_day, distance) VALUES
(1, 'Amaravathi Express', 'Vijayawada', '19:55:00', 'SSS Hubballi', '11:20:00', 'Day 2', 690),
(2, 'Amaravathi Express', 'SSS Hubballi', '13:20:00', 'Vijayawada', '5:45:00', 'Day 2', 690),
(3, 'Karnataka Sampark kranthi Express', 'Kacheguda', '8:20:00', 'SSS Hubballi', '20:35:00', 'Day 1', 618),
(4,'Karnataka Sampark kranthi Express', 'SSS Hubballi', '21:05:00', 'Kacheguda', '08:10:00', 'Day 2', 618);

CREATE TABLE train_schedule (
  schedule_id int  PRIMARY KEY,
  train_number integer NOT NULL,
  station_name varchar(50) NOT NULL,
  arrival_time time NOT NULL,
  departure_time time DEFAULT '00:00:00' NOT NULL,
  distance integer NOT NULL,
  FOREIGN KEY (station_name) REFERENCES station_details (station_name),
  FOREIGN KEY (train_number) REFERENCES train_details (train_number)
);

INSERT INTO train_schedule (schedule_id, train_number, station_name, arrival_time, departure_time, distance) VALUES
(1, 2, 'SSS Hubballi', '13:20:00', '13:20:00', 0),
(2, 2, 'Ballari', '17:30:00', '17:35:00', 207),
(3, 2, 'Guntakal', '18:45:00', '18:50:00', 257),
(4, 2, 'Vijayawada', '05:45:00', '05:45:00', 690),
(5, 1, 'Vijayawada', '19:55:00', '19:55:00', 0),
(6, 1, 'Guntakal', '05:20:00', '05:30:00', 433),
(7, 1, 'Ballari', '06:50:00', '06:55:00', 483),
(8, 1, 'SSS Hubballi', '11:20:00', '11:20:00', 690),
(9, 3, 'Kacheguda', '08:20:00', '08:20:00', 0),
(10, 3, 'Mahbubnagar', '10:19:00', '10:20:00', 105),
(11, 3, 'Hosapete', '17:35:00', '17:40:00', 481),
(12, 3, 'SSS Hubballi', '20:35:00', '20:45:00', 624),
(13, 4, 'SSS Hubballi', '21:05:00', '21:15:00', 0),
(14, 4, 'Hosapete', '23:25:00', '23:30:00', 286),
(15, 4, 'Mahbubnagar', '06:14:00', '06:15:00', 662),
(16, 4, 'Kacheguda', '08:10:00', '08:20:00', 768);

CREATE TABLE mapping (
  start_point varchar(50) NOT NULL,
  destination_point varchar(50) NOT NULL,
  mapval varchar(50) NOT NULL,
  PRIMARY KEY (mapval),
  FOREIGN KEY (start_point) REFERENCES station_details (station_name),
  FOREIGN KEY (destination_point) REFERENCES station_details (station_name)
);

INSERT INTO mapping VALUES
('SSS Hubballi','Ballari','A'),
('Ballari','Guntakal','B'),
('Guntakal','Vijayawada','C'),
('SSS Hubballi','Guntakal','AB'),
('Ballari','Vijayawada','BC'),
('SSS Hubballi','Vijayawada','ABC'),
('Ballari','SSS Hubballi','A1'),
('Guntakal','Ballari','B1'),
('Vijayawada','Guntakal','C1'),
('Guntakal','SSS Hubballi','AB1'),
('Vijayawada','Ballari','BC1'),
('Vijayawada','SSS Hubballi','ABC1'),
-- Route 2
('SSS Hubballi', 'Hosapete', 'D'),
('Hosapete', 'Mahbubnagar', 'E'),
('Mahbubnagar', 'Kacheguda', 'F'),
('SSS Hubballi', 'Mahbubnagar', 'DE'),
('Hosapete', 'Kacheguda', 'EF'),
('SSS Hubballi', 'Kacheguda', 'DEF'),
('Hosapete', 'SSS Hubballi', 'D1'),
('Mahbubnagar', 'Hosapete', 'E1'),
('Kacheguda', 'Mahbubnagar', 'F1'),
('Mahbubnagar', 'SSS Hubballi', 'DE1'),
('Kacheguda', 'Hosapete', 'EF1'),
('Kacheguda', 'SSS Hubballi', 'DEF1');

CREATE TABLE seats (
  train_number INT NOT NULL,
  journey_date date NOT NULL,
  class_name varchar(10) NOT NULL,
  seat_no INT NOT NULL,
  berth varchar(1) NOT NULL,
  mapval varchar(50) NOT NULL,
  status varchar(10) NOT NULL DEFAULT 'AVAILABLE',
  PRIMARY KEY (train_number, journey_date, class_name, seat_no, mapval),
  FOREIGN KEY (train_number) REFERENCES train_details (train_number),
  FOREIGN KEY (class_name) REFERENCES ticket_class (class_name),
  FOREIGN KEY (mapval) REFERENCES mapping (mapval)
);

INSERT INTO seats VALUES
--route 1
(2, '2023-11-03', '1A', 1, 'L', 'A', 'BOOKED'),
(2, '2023-11-03', '1A', 1, 'L', 'B', 'BOOKED'),
(2, '2023-11-03', '1A', 1, 'L', 'C', 'BOOKED'),
(2, '2023-11-03', '1A', 1, 'L', 'AB', 'BOOKED'),
(2, '2023-11-03', '1A', 1, 'L', 'BC', 'BOOKED'),
(2, '2023-11-03', '1A', 1, 'L', 'ABC', 'BOOKED'),
(2, '2023-11-03', '1A', 2, 'U', 'A', 'BOOKED'),
(2, '2023-11-03', '1A', 2, 'U', 'B', 'BOOKED'),
(2, '2023-11-03', '1A', 2, 'U', 'C', 'BOOKED'),
(2, '2023-11-03', '1A', 2, 'U', 'AB', 'BOOKED'),
(2, '2023-11-03', '1A', 2, 'U', 'BC', 'BOOKED'),
(2, '2023-11-03', '1A', 2, 'U', 'ABC', 'BOOKED'),
(2, '2023-11-03', '1A', 3, 'L', 'A', 'AVAILABLE'),
(2, '2023-11-03', '1A', 3, 'L', 'B', 'AVAILABLE'),
(2, '2023-11-03', '1A', 3, 'L', 'C', 'AVAILABLE'),
(2, '2023-11-03', '1A', 3, 'L', 'AB', 'AVAILABLE'),
(2, '2023-11-03', '1A', 3, 'L', 'BC', 'AVAILABLE'),
(2, '2023-11-03', '1A', 3, 'L', 'ABC', 'AVAILABLE'),

(2, '2023-11-03', '2A', 1, 'L', 'A', 'AVAILABLE'),
(2, '2023-11-03', '2A', 1, 'L', 'B', 'AVAILABLE'),
(2, '2023-11-03', '2A', 1, 'L', 'C', 'AVAILABLE'),
(2, '2023-11-03', '2A', 1, 'L', 'AB', 'AVAILABLE'),
(2, '2023-11-03', '2A', 1, 'L', 'BC', 'AVAILABLE'),
(2, '2023-11-03', '2A', 1, 'L', 'ABC', 'AVAILABLE'),
(2, '2023-11-03', '2A', 2, 'U', 'A', 'AVAILABLE'),
(2, '2023-11-03', '2A', 2, 'U', 'B', 'AVAILABLE'),
(2, '2023-11-03', '2A', 2, 'U', 'C', 'AVAILABLE'),
(2, '2023-11-03', '2A', 2, 'U', 'AB', 'AVAILABLE'),
(2, '2023-11-03', '2A', 2, 'U', 'BC', 'AVAILABLE'),
(2, '2023-11-03', '2A', 2, 'U', 'ABC', 'AVAILABLE'),
(2, '2023-11-03', '2A', 3, 'L', 'A', 'AVAILABLE'),
(2, '2023-11-03', '2A', 3, 'L', 'B', 'AVAILABLE'),
(2, '2023-11-03', '2A', 3, 'L', 'C', 'AVAILABLE'),
(2, '2023-11-03', '2A', 3, 'L', 'AB', 'AVAILABLE'),
(2, '2023-11-03', '2A', 3, 'L', 'BC', 'AVAILABLE'),
(2, '2023-11-03', '2A', 3, 'L', 'ABC', 'AVAILABLE'),

(2, '2023-11-03', '3A', 1, 'L', 'A', 'AVAILABLE'),
(2, '2023-11-03', '3A', 1, 'L', 'B', 'AVAILABLE'),
(2, '2023-11-03', '3A', 1, 'L', 'C', 'AVAILABLE'),
(2, '2023-11-03', '3A', 1, 'L', 'AB', 'AVAILABLE'),
(2, '2023-11-03', '3A', 1, 'L', 'BC', 'AVAILABLE'),
(2, '2023-11-03', '3A', 1, 'L', 'ABC', 'AVAILABLE'),
(2, '2023-11-03', '3A', 2, 'U', 'A', 'AVAILABLE'),
(2, '2023-11-03', '3A', 2, 'U', 'B', 'AVAILABLE'),
(2, '2023-11-03', '3A', 2, 'U', 'C', 'AVAILABLE'),
(2, '2023-11-03', '3A', 2, 'U', 'AB', 'AVAILABLE'),
(2, '2023-11-03', '3A', 2, 'U', 'BC', 'AVAILABLE'),
(2, '2023-11-03', '3A', 2, 'U', 'ABC', 'AVAILABLE'),
(2, '2023-11-03', '3A', 3, 'L', 'A', 'AVAILABLE'),
(2, '2023-11-03', '3A', 3, 'L', 'B', 'AVAILABLE'),
(2, '2023-11-03', '3A', 3, 'L', 'C', 'AVAILABLE'),
(2, '2023-11-03', '3A', 3, 'L', 'AB', 'AVAILABLE'),
(2, '2023-11-03', '3A', 3, 'L', 'BC', 'AVAILABLE'),
(2, '2023-11-03', '3A', 3, 'L', 'ABC', 'AVAILABLE'),

(2, '2023-11-03', 'SL', 1, 'L', 'A', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 1, 'L', 'B', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 1, 'L', 'C', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 1, 'L', 'AB', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 1, 'L', 'BC', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 1, 'L', 'ABC', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 2, 'U', 'A', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 2, 'U', 'B', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 2, 'U', 'C', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 2, 'U', 'AB', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 2, 'U', 'BC', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 2, 'U', 'ABC', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 3, 'L', 'A', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 3, 'L', 'B', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 3, 'L', 'C', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 3, 'L', 'AB', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 3, 'L', 'BC', 'AVAILABLE'),
(2, '2023-11-03', 'SL', 3, 'L', 'ABC', 'AVAILABLE'),

(1, '2023-11-03', '1A', 1, 'L', 'A1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 1, 'L', 'B1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 1, 'L', 'C1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 1, 'L', 'AB1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 1, 'L', 'BC1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 1, 'L', 'ABC1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 2, 'U', 'A1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 2, 'U', 'B1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 2, 'U', 'C1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 2, 'U', 'AB1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 2, 'U', 'BC1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 2, 'U', 'ABC1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 3, 'L', 'A1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 3, 'L', 'B1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 3, 'L', 'C1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 3, 'L', 'AB1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 3, 'L', 'BC1', 'AVAILABLE'),
(1, '2023-11-03', '1A', 3, 'L', 'ABC1', 'AVAILABLE'),

(1, '2023-11-03', '2A', 1, 'L', 'A1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 1, 'L', 'B1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 1, 'L', 'C1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 1, 'L', 'AB1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 1, 'L', 'BC1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 1, 'L', 'ABC1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 2, 'U', 'A1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 2, 'U', 'B1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 2, 'U', 'C1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 2, 'U', 'AB1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 2, 'U', 'BC1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 2, 'U', 'ABC1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 3, 'L', 'A1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 3, 'L', 'B1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 3, 'L', 'C1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 3, 'L', 'AB1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 3, 'L', 'BC1', 'AVAILABLE'),
(1, '2023-11-03', '2A', 3, 'L', 'ABC1', 'AVAILABLE'),

(1, '2023-11-03', '3A', 1, 'L', 'A1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 1, 'L', 'B1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 1, 'L', 'C1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 1, 'L', 'AB1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 1, 'L', 'BC1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 1, 'L', 'ABC1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 2, 'U', 'A1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 2, 'U', 'B1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 2, 'U', 'C1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 2, 'U', 'AB1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 2, 'U', 'BC1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 2, 'U', 'ABC1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 3, 'L', 'A1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 3, 'L', 'B1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 3, 'L', 'C1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 3, 'L', 'AB1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 3, 'L', 'BC1', 'AVAILABLE'),
(1, '2023-11-03', '3A', 3, 'L', 'ABC1', 'AVAILABLE'),

(1, '2023-11-03', 'SL', 1, 'L', 'A1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 1, 'L', 'B1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 1, 'L', 'C1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 1, 'L', 'AB1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 1, 'L', 'BC1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 1, 'L', 'ABC1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 2, 'U', 'A1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 2, 'U', 'B1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 2, 'U', 'C1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 2, 'U', 'AB1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 2, 'U', 'BC1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 2, 'U', 'ABC1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 3, 'L', 'A1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 3, 'L', 'B1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 3, 'L', 'C1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 3, 'L', 'AB1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 3, 'L', 'BC1', 'AVAILABLE'),
(1, '2023-11-03', 'SL', 3, 'L', 'ABC1', 'AVAILABLE'),
----Route2-----
(4, '2023-11-03', '1A', 1, 'L', 'D', 'BOOKED'),
(4, '2023-11-03', '1A', 1, 'L', 'E', 'BOOKED'),
(4, '2023-11-03', '1A', 1, 'L', 'F', 'BOOKED'),
(4, '2023-11-03', '1A', 1, 'L', 'DE', 'BOOKED'),
(4, '2023-11-03', '1A', 1, 'L', 'EF', 'BOOKED'),
(4, '2023-11-03', '1A', 1, 'L', 'DEF', 'BOOKED'),
(4, '2023-11-03', '1A', 2, 'U', 'D', 'AVAILABLE'),
(4, '2023-11-03', '1A', 2, 'U', 'E', 'AVAILABLE'),
(4, '2023-11-03', '1A', 2, 'U', 'F', 'AVAILABLE'),
(4, '2023-11-03', '1A', 2, 'U', 'DE', 'AVAILABLE'),
(4, '2023-11-03', '1A', 2, 'U', 'EF', 'AVAILABLE'),
(4, '2023-11-03', '1A', 2, 'U', 'DEF', 'AVAILABLE'),
(4, '2023-11-03', '1A', 3, 'L', 'D', 'AVAILABLE'),
(4, '2023-11-03', '1A', 3, 'L', 'E', 'AVAILABLE'),
(4, '2023-11-03', '1A', 3, 'L', 'F', 'AVAILABLE'),
(4, '2023-11-03', '1A', 3, 'L', 'DE', 'AVAILABLE'),
(4, '2023-11-03', '1A', 3, 'L', 'EF', 'AVAILABLE'),
(4, '2023-11-03', '1A', 3, 'L', 'DEF', 'AVAILABLE'),

(4, '2023-11-03', '2A', 1, 'L', 'D', 'AVAILABLE'),
(4, '2023-11-03', '2A', 1, 'L', 'E', 'AVAILABLE'),
(4, '2023-11-03', '2A', 1, 'L', 'F', 'AVAILABLE'),
(4, '2023-11-03', '2A', 1, 'L', 'DE', 'AVAILABLE'),
(4, '2023-11-03', '2A', 1, 'L', 'EF', 'AVAILABLE'),
(4, '2023-11-03', '2A', 1, 'L', 'DEF', 'AVAILABLE'),
(4, '2023-11-03', '2A', 2, 'U', 'D', 'AVAILABLE'),
(4, '2023-11-03', '2A', 2, 'U', 'E', 'AVAILABLE'),
(4, '2023-11-03', '2A', 2, 'U', 'F', 'AVAILABLE'),
(4, '2023-11-03', '2A', 2, 'U', 'DE', 'AVAILABLE'),
(4, '2023-11-03', '2A', 2, 'U', 'EF', 'AVAILABLE'),
(4, '2023-11-03', '2A', 2, 'U', 'DEF', 'AVAILABLE'),
(4, '2023-11-03', '2A', 3, 'L', 'D', 'AVAILABLE'),
(4, '2023-11-03', '2A', 3, 'L', 'E', 'AVAILABLE'),
(4, '2023-11-03', '2A', 3, 'L', 'F', 'AVAILABLE'),
(4, '2023-11-03', '2A', 3, 'L', 'DE', 'AVAILABLE'),
(4, '2023-11-03', '2A', 3, 'L', 'EF', 'AVAILABLE'),
(4, '2023-11-03', '2A', 3, 'L', 'DEF', 'AVAILABLE'),

(4, '2023-11-03', '3A', 1, 'L', 'D', 'AVAILABLE'),
(4, '2023-11-03', '3A', 1, 'L', 'E', 'AVAILABLE'),
(4, '2023-11-03', '3A', 1, 'L', 'F', 'AVAILABLE'),
(4, '2023-11-03', '3A', 1, 'L', 'DE', 'AVAILABLE'),
(4, '2023-11-03', '3A', 1, 'L', 'EF', 'AVAILABLE'),
(4, '2023-11-03', '3A', 1, 'L', 'DEF', 'AVAILABLE'),
(4, '2023-11-03', '3A', 2, 'U', 'D', 'AVAILABLE'),
(4, '2023-11-03', '3A', 2, 'U', 'E', 'AVAILABLE'),
(4, '2023-11-03', '3A', 2, 'U', 'F', 'AVAILABLE'),
(4, '2023-11-03', '3A', 2, 'U', 'DE', 'AVAILABLE'),
(4, '2023-11-03', '3A', 2, 'U', 'EF', 'AVAILABLE'),
(4, '2023-11-03', '3A', 2, 'U', 'DEF', 'AVAILABLE'),
(4, '2023-11-03', '3A', 3, 'L', 'D', 'AVAILABLE'),
(4, '2023-11-03', '3A', 3, 'L', 'E', 'AVAILABLE'),
(4, '2023-11-03', '3A', 3, 'L', 'F', 'AVAILABLE'),
(4, '2023-11-03', '3A', 3, 'L', 'DE', 'AVAILABLE'),
(4, '2023-11-03', '3A', 3, 'L', 'EF', 'AVAILABLE'),
(4, '2023-11-03', '3A', 3, 'L', 'DEF', 'AVAILABLE'),

(4, '2023-11-03', 'SL', 1, 'L', 'D', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 1, 'L', 'E', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 1, 'L', 'F', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 1, 'L', 'DE', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 1, 'L', 'EF', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 1, 'L', 'DEF', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 2, 'U', 'D', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 2, 'U', 'E', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 2, 'U', 'F', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 2, 'U', 'DE', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 2, 'U', 'EF', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 2, 'U', 'DEF', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 3, 'L', 'D', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 3, 'L', 'E', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 3, 'L', 'F', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 3, 'L', 'DE', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 3, 'L', 'EF', 'AVAILABLE'),
(4, '2023-11-03', 'SL', 3, 'L', 'DEF', 'AVAILABLE'),

(3, '2023-11-03', '1A', 1, 'L', 'D1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 1, 'L', 'E1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 1, 'L', 'F1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 1, 'L', 'DE1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 1, 'L', 'EF1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 1, 'L', 'DEF1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 2, 'U', 'D1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 2, 'U', 'E1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 2, 'U', 'F1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 2, 'U', 'DE1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 2, 'U', 'EF1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 2, 'U', 'DEF1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 3, 'L', 'D1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 3, 'L', 'E1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 3, 'L', 'F1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 3, 'L', 'DE1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 3, 'L', 'EF1', 'AVAILABLE'),
(3, '2023-11-03', '1A', 3, 'L', 'DEF1', 'AVAILABLE'),

(3, '2023-11-03', '2A', 1, 'L', 'D1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 1, 'L', 'E1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 1, 'L', 'F1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 1, 'L', 'DE1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 1, 'L', 'EF1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 1, 'L', 'DEF1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 2, 'U', 'D1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 2, 'U', 'E1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 2, 'U', 'F1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 2, 'U', 'DE1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 2, 'U', 'EF1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 2, 'U', 'DEF1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 3, 'L', 'D1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 3, 'L', 'E1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 3, 'L', 'F1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 3, 'L', 'DE1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 3, 'L', 'EF1', 'AVAILABLE'),
(3, '2023-11-03', '2A', 3, 'L', 'DEF1', 'AVAILABLE'),

(3, '2023-11-03', '3A', 1, 'L', 'D1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 1, 'L', 'E1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 1, 'L', 'F1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 1, 'L', 'DE1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 1, 'L', 'EF1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 1, 'L', 'DEF1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 2, 'U', 'D1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 2, 'U', 'E1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 2, 'U', 'F1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 2, 'U', 'DE1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 2, 'U', 'EF1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 2, 'U', 'DEF1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 3, 'L', 'D1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 3, 'L', 'E1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 3, 'L', 'F1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 3, 'L', 'DE1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 3, 'L', 'EF1', 'AVAILABLE'),
(3, '2023-11-03', '3A', 3, 'L', 'DEF1', 'AVAILABLE'),

(3, '2023-11-03', 'SL', 1, 'L', 'D1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 1, 'L', 'E1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 1, 'L', 'F1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 1, 'L', 'DE1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 1, 'L', 'EF1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 1, 'L', 'DEF1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 2, 'U', 'D1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 2, 'U', 'E1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 2, 'U', 'F1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 2, 'U', 'DE1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 2, 'U', 'EF1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 2, 'U', 'DEF1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 3, 'L', 'D1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 3, 'L', 'E1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 3, 'L', 'F1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 3, 'L', 'DE1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 3, 'L', 'EF1', 'AVAILABLE'),
(3, '2023-11-03', 'SL', 3, 'L', 'DEF1', 'AVAILABLE');

CREATE TABLE reservation (
  pnr_number SERIAL PRIMARY KEY,
  user_id integer NOT NULL,
  train_number integer NOT NULL,
  start_point varchar(50) NOT NULL,
  destination_point varchar(50) NOT NULL,
  journey_date date NOT NULL,
  ticket_fare1 integer NOT NULL,
  class_name varchar(50) NOT NULL,
  number_of_seats integer NOT NULL,
  ticket_status varchar(50) NOT NULL,
  quota varchar(50) NOT NULL DEFAULT 'GENERAL',
  FOREIGN KEY (train_number) REFERENCES train_details (train_number),
  FOREIGN KEY (start_point) REFERENCES station_details (station_name),
  FOREIGN KEY (destination_point) REFERENCES station_details (station_name),
  FOREIGN KEY (class_name) REFERENCES ticket_class(class_name),
  FOREIGN KEY (user_id) REFERENCES user_details (user_id)
);
ALTER SEQUENCE reservation_pnr_number_seq RESTART WITH 100003;
INSERT INTO reservation (user_id,train_number,start_point,destination_point,journey_date,ticket_fare1,class_name,number_of_seats,ticket_status,quota) VALUES
(1, 2, 'SSS Hubballi', 'Vijayawada', '2023-11-03', 5520, '1A', 2, 'BOOKED','GENERAL'),
(2, 4, 'SSS Hubballi', 'Kacheguda', '2023-11-03', 3072, '1A', 1, 'BOOKED','GENERAL' );

CREATE TABLE passenger_details (
  pnr_number integer NOT NULL,
  passenger_name varchar(50) NOT NULL,
  passenger_age integer NOT NULL,
  passenger_gender varchar(10) NOT NULL,
  seat_number integer NOT NULL,
  berth varchar(30) NOT NULL,
  PRIMARY KEY (pnr_number, seat_number),
  FOREIGN KEY (pnr_number) REFERENCES reservation (pnr_number)
);
INSERT INTO passenger_details VALUES
(100003, 'M.Suresh', 20, 'M', 1, 'L'),
(100003, 'P.Ramesh', 21, 'M', 2, 'U'),
(100004, 'C.Rahul', 20, 'M', 1, 'L');